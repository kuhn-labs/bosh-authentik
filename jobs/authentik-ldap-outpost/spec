---
name: authentik-ldap-outpost

templates:
  bpm.yml.erb: config/bpm.yml
  pre-start.erb: bin/pre-start

packages:
  - authentik-outpost-ldap

consumes:
  - name: authentik
    type: authentik
    optional: true

properties:
  authentik.host:
    description: "Authentik server URL (e.g., https://authentik.example.com)"
  authentik.token:
    description: "Authentik API token for outpost authentication"
  authentik.insecure:
    description: "Skip TLS verification when connecting to authentik"
    default: false

  ldap_port:
    description: "LDAP port"
    default: 3389
  ldaps_port:
    description: "LDAPS port"
    default: 6636
  metrics_port:
    description: "Prometheus metrics port"
    default: 9300

  log_level:
    description: "Log level (debug, info, warning, error, trace)"
    default: "info"
